{"ast":null,"code":"var _jsxFileName = \"/Users/boone/Desktop/csc307project/frontend/src/Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst myForm = {\n  padding: '80px'\n};\nconst button = {\n  backgroundColor: 'lightgray',\n  borderColor: 'white'\n};\n\nfunction Form(props) {\n  _s();\n\n  const [productData, setProduct] = useState({\n    title: '',\n    description: '',\n    location: '',\n    category: '',\n    contactInfo: ''\n  });\n  const [productImage, setProductImage] = useState({\n    image: null,\n    contentType: ''\n  });\n\n  function handleChange(event) {\n    let value = event.target.value;\n    let name = event.target.name;\n    setProduct(prevalue => {\n      return { ...prevalue,\n        [name]: value\n      };\n    });\n  }\n\n  function readFileAsBinary(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n\n      reader.onload = event => {\n        resolve(event.target.result);\n      };\n\n      reader.onerror = err => {\n        reject(err);\n      };\n\n      reader.readAsDataURL(file);\n    });\n  }\n\n  async function handleChangePic(event) {\n    const file = event.target.files[0];\n    console.log(\"handleChangePic\");\n\n    if (file) {\n      let result = await readFileAsBinary(file);\n      setProductImage(() => {\n        console.log(result);\n        return result;\n      });\n    }\n  } // _handleReaderLoaded = (readerEvt) => {\n  //     let binStr = readerEvt.target.result\n  //     setProductImage(()=>{\n  //         return {\n  //             'image': binStr.toString('base64'),\n  //         }\n  //     })\n  // }\n\n\n  function submitForm(event) {\n    event.preventDefault(); // const formData = new FormData()\n    // formData.append('data',productData)\n    // formData.append('image', productImage)\n    // console.log(\"formData in submitForm()\")\n    // for (var [key, value] of formData.entries()) { \n    //     console.log(key, value);\n    // }\n\n    var object = {\n      \"title\": productData.title,\n      \"description\": productData.description,\n      \"location\": productData.location,\n      \"category\": productData.category,\n      \"contactInfo\": productData.contactInfo,\n      \"image\": productImage\n    };\n    props.handleSubmit(object); //props.handleSubmit(formData)\n\n    setProduct({\n      title: '',\n      description: '',\n      location: '',\n      category: '',\n      contactInfo: ''\n    });\n    setProductImage({\n      picture: null\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    style: myForm,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"name\",\n      children: \"title\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      id: \"title\",\n      value: productData.title,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"description\",\n      children: \"description\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"description\",\n      id: \"description\",\n      value: productData.description,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"location\",\n      children: \"location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"location\",\n      id: \"location\",\n      value: productData.location,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"category\",\n      children: \"category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"category\",\n      id: \"category\",\n      value: productData.category,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"contactInfo\",\n      children: \"contact info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"contactInfo\",\n      id: \"contactInfo\",\n      value: productData.contactInfo,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"picture\",\n      children: \"picture\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"picture\",\n      id: \"picture\",\n      accept: \".jpeg, .png, .jpg\",\n      value: productImage.picture,\n      onChange: handleChangePic\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"button\",\n      value: \"Submit\",\n      style: button,\n      onClick: submitForm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Form, \"Chpi6bWUxq9DVkApgbF0Z9WE9nY=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/Users/boone/Desktop/csc307project/frontend/src/Form.js"],"names":["React","useState","myForm","padding","button","backgroundColor","borderColor","Form","props","productData","setProduct","title","description","location","category","contactInfo","productImage","setProductImage","image","contentType","handleChange","event","value","target","name","prevalue","readFileAsBinary","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","err","readAsDataURL","handleChangePic","files","console","log","submitForm","preventDefault","object","handleSubmit","picture"],"mappings":"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","sourcesContent":["\nimport React, {useState} from 'react';\n\nconst myForm = {\n    padding: '80px',\n}\n\nconst button = {\n    backgroundColor: 'lightgray',\n    borderColor: 'white',\n}\n\nfunction Form(props) { \n\n    const [productData, setProduct] = useState(\n        {  \n            title: '',\n            description: '',\n            location: '',\n            category: '',\n            contactInfo: '',\n        }\n    );\n\n    const [productImage, setProductImage] = useState(\n        {\n            image: null,\n            contentType: ''\n        }\n    );\n\n    function handleChange(event) {\n        let value = event.target.value\n        let name = event.target.name\n        \n        setProduct((prevalue) => {\n            return {\n              ...prevalue,             \n              [name]: value\n            }\n          })\n    }\n    \n    function readFileAsBinary(file) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n    \n            reader.onload = (event) => {\n                resolve(event.target.result);\n            };\n    \n            reader.onerror = (err) => {\n                reject(err);\n            };\n\n            reader.readAsDataURL(file);\n        });\n    }\n\n    async function handleChangePic(event) {\n        const file = event.target.files[0];\n        console.log(\"handleChangePic\")\n        if (file) {\n            let result = await readFileAsBinary(file);\n            setProductImage(() => {\n                console.log(result);\n                return result;\n            });\n        }\n        \n    }\n\n    // _handleReaderLoaded = (readerEvt) => {\n    //     let binStr = readerEvt.target.result\n    //     setProductImage(()=>{\n    //         return {\n    //             'image': binStr.toString('base64'),\n    //         }\n    //     })\n    // }\n\n    function submitForm(event) {\n        event.preventDefault()\n        // const formData = new FormData()\n        // formData.append('data',productData)\n        // formData.append('image', productImage)\n        // console.log(\"formData in submitForm()\")\n        // for (var [key, value] of formData.entries()) { \n        //     console.log(key, value);\n        // }\n      \n        var object = {\n                        \"title\": productData.title, \n                        \"description\": productData.description, \n                        \"location\": productData.location, \n                        \"category\": productData.category, \n                        \"contactInfo\": productData.contactInfo, \n                        \"image\": productImage\n                    }\n        props.handleSubmit(object)\n        //props.handleSubmit(formData)\n\n\n        setProduct({title: '', description: '', location: '', category: '', contactInfo: ''});\n        setProductImage({picture: null});\n    }\n      \n    return (\n        <form style = {myForm}>\n\n            <label htmlFor=\"name\">title</label>\n            <input\n                type=\"text\"\n                name=\"title\"\n                id=\"title\"\n                value={productData.title}\n                onChange={handleChange} />\n                \n            <label htmlFor=\"description\">description</label>\n            <input\n                type=\"text\"\n                name=\"description\"\n                id=\"description\"\n                value={productData.description}\n                onChange={handleChange} />\n\n            <label htmlFor=\"location\">location</label>\n            <input\n                type=\"text\"\n                name=\"location\"\n                id=\"location\"\n                value={productData.location}\n                onChange={handleChange} />\n                \n            <label htmlFor=\"category\">category</label>\n            <input\n                type=\"text\"\n                name=\"category\"\n                id=\"category\"\n                value={productData.category}\n                onChange={handleChange} />\n\n            <label htmlFor=\"contactInfo\">contact info</label>\n            <input\n                type=\"text\"\n                name=\"contactInfo\"\n                id=\"contactInfo\"\n                value={productData.contactInfo}\n                onChange={handleChange} />\n            \n            <label htmlFor=\"picture\">picture</label>\n            <input\n                type=\"file\"\n                name=\"picture\"\n                id=\"picture\"\n                accept=\".jpeg, .png, .jpg\"\n                value={productImage.picture}\n                onChange={handleChangePic} />\n\n            <input type=\"button\" value=\"Submit\" style ={button} onClick={submitForm} /> \n\n        \n        </form>\n    ); \n}\nexport default Form;\n\n"]},"metadata":{},"sourceType":"module"}